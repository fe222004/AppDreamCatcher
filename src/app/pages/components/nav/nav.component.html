<nav
  class="mx-auto flex max-w-7xl items-center justify-between p-6 lg:px-8"
  aria-label="Global"
  style="margin-top: 16px"
>
  <div class="flex lg:flex-1">
    <a href="#" class="-m-1.5 p-1.5">
      <span class="sr-only">Your Company</span>
      <img
        class="h-8 w-auto"
        src="https://tailwindui.com/plus/img/logos/mark.svg?color=indigo&shade=600"
        alt=""
      />
    </a>
  </div>

  <div
    (click)="toggleNotifications()"
    class="relative flex items-center justify-center w-12 h-12 bg-gray-800 text-white rounded-full cursor-pointer transition-transform transform hover:scale-110"
  >
    <svg
      xmlns="https://i.pinimg.com/736x/ac/92/d3/ac92d3f03dcb67ddd2c56c1424e2992d.jpg"
      fill="none"
      viewBox="0 0 24 24"
      stroke="currentColor"
      class="w-6 h-6"
    >
      <path
        stroke-linecap="round"
        stroke-linejoin="round"
        stroke-width="2"
        d="M12 18c1.3 0 2.4-.2 3.4-.5l.1.1c.5.6.7 1.2 1.1 1.9.4.7 1.2 1.1 2.1 1.1 1.7 0 3-1.4 3-3s-1.4-3-3-3c-.5 0-.9.1-1.3.3l.1-.1c-.1-.3-.3-.6-.5-.9L12 1.5 7.7 16c-.2.3-.4.6-.5.9-.4-.2-.9-.3-1.4-.3-1.7 0-3 1.4-3 3s1.4 3 3 3c.8 0 1.5-.4 2-1.1l.1-.1c.8.3 1.7.5 2.6.5zM12 0v14"
      />
    </svg>

    <!-- Contador de notificaciones (Reemplaza con el length del array) -->
    <div
      *ngIf="notification.length > 0"
      class="absolute top-0 right-0 w-4 h-4 bg-red-600 text-white text-xs font-semibold rounded-full flex items-center justify-center -translate-x-2 translate-y-2"
    >
      {{ notification.length }}
    </div>
  </div>

  <div class="flex lg:hidden">
    <button
      type="button"
      class="-m-2.5 inline-flex items-center justify-center rounded-md p-2.5 text-gray-700"
    >
      <span class="sr-only">Open main menu</span>
      <svg
        class="size-6"
        fill="none"
        viewBox="0 0 24 24"
        stroke-width="1.5"
        stroke="currentColor"
        aria-hidden="true"
        data-slot="icon"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"
        />
      </svg>
    </button>
  </div>
  <div class="hidden lg:flex lg:gap-x-12">
    <div class="relative">
      <button
        type="button"
        class="flex items-center gap-x-1 text-sm/6 font-semibold text-gray-900"
        aria-expanded="false"
      >
        Product
        <svg
          class="size-5 flex-none text-gray-400"
          viewBox="0 0 20 20"
          fill="currentColor"
          aria-hidden="true"
          data-slot="icon"
        >
          <path
            fill-rule="evenodd"
            d="M5.22 8.22a.75.75 0 0 1 1.06 0L10 11.94l3.72-3.72a.75.75 0 1 1 1.06 1.06l-4.25 4.25a.75.75 0 0 1-1.06 0L5.22 9.28a.75.75 0 0 1 0-1.06Z"
            clip-rule="evenodd"
          />
        </svg>
      </button>

      <div
        *ngIf="isNotificationsVisible"
        class="absolute -left-8 top-full z-10 mt-3 w-screen max-w-md overflow-hidden rounded-3xl bg-white shadow-lg ring-1 ring-gray-900/5"
      >
      <div class="p-4" *ngFor="let notification of notification" >
        <div class="group relative flex items-center gap-x-6 rounded-lg p-4 text-sm/6 hover:bg-gray-50">
          <!-- Icono de la notificación -->
          <div class="flex size-11 flex-none items-center justify-center rounded-lg bg-gray-50 group-hover:bg-white">
            <svg
              class="size-6 text-gray-600 group-hover:text-indigo-600"
              fill="none"
              viewBox="0 0 24 24"
              stroke-width="1.5"
              stroke="currentColor"
              aria-hidden="true"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M10.5 6a7.5 7.5 0 1 0 7.5 7.5h-7.5V6Z"
              />
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M13.5 10.5H21A7.5 7.5 0 0 0 13.5 3v7.5Z"
              />
            </svg>
          </div>
      
          <!-- Contenido de la notificación -->
          <div class="flex-auto">
            <a href="#" class="block font-semibold text-gray-900">
              {{ notification.username }} - Nuevo post creado
              <span class="absolute inset-0"></span>
            </a>
            <p class="mt-1 text-gray-600">{{ notification.description }}</p>
          </div>
      
          <!-- Botón de "Ver" -->
          <div class="absolute bottom-4 right-4">
            <button
          (click)="onNotificationClick(notification.id, notification.postId)"
          class="bg-blue-600 text-white px-3 py-1 rounded">
          Ver
        </button>
          </div>
        </div>
      </div> </div> </div> 
      
    <a href="#" class="text-sm/6 font-semibold text-gray-900">Features</a>
    <a href="#" class="text-sm/6 font-semibold text-gray-900">Marketplace</a>
    <a href="#" class="text-sm/6 font-semibold text-gray-900">Company</a>
  </div>

  <div class="hidden lg:flex lg:flex-1 lg:justify-end space-x-4 items-center">
    <div class="flex items-center space-x-2">
      <span class="text-sm font-medium text-gray-900"></span>
    </div>

    <a href="#" class="text-sm/6 font-semibold text-gray-900"
      >Log in <span aria-hidden="true">&rarr;</span></a
    >
  </div>

  <div *ngIf="selectedPost" class="fixed inset-0 flex items-center justify-center bg-gray-500/75">
    <div class="bg-white p-6 rounded-lg max-w-lg w-full">
      <h2 class="text-lg font-bold">{{ selectedPost.text }}</h2>
      <p class="mt-2">{{ selectedPost.tag }}</p>
      <img *ngIf="selectedPost.image" [src]="selectedPost.image" alt="Post image" class="mt-4 w-full h-64 object-cover">
      <button (click)="selectedPost = null" class="mt-4 bg-red-600 text-white px-4 py-2 rounded">Cerrar</button>
    </div>
  </div>
  
</nav>
